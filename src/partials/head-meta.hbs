<!-- Redis Documentation head metadata -->
<!-- Prevent flash of unstyled content -->
<script>
  (function() {
    var savedTheme = localStorage.getItem('redis-theme');
    if (savedTheme === 'dark') {
      document.documentElement.style.backgroundColor = '#22242A'; // Dark background
      document.documentElement.classList.add('dark-theme');
      document.documentElement.style.color = '#E6E6E6'; // Light text
    } else {
      document.documentElement.style.backgroundColor = 'white';
      document.documentElement.classList.remove('dark-theme');
    }
  })();
</script>

<!-- Override Spring UI favicons with Redis favicons -->
<link rel="icon" type="image/x-icon" href="{{siteRootPath}}/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="{{siteRootPath}}/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="{{siteRootPath}}/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="144x144" href="{{uiRootPath}}/img/Redis_Favicon_144x144_Red.png">
<link rel="manifest" href="{{siteRootPath}}/site.webmanifest">
<link rel="stylesheet" href="{{uiRootPath}}/css/redis-brand.css">
<meta name="theme-color" content="#DC382C">
{{#if page.description}}<meta name="description" content="{{{page.description}}}">{{/if}}
<meta name="keywords" content="Redis, Database, NoSQL, Caching, In-Memory">
<meta property="og:title" content="{{#if page.title}}{{{page.title}}}{{else}}{{site.title}}{{/if}}">
{{#if page.description}}<meta property="og:description" content="{{{page.description}}}">{{/if}}
<meta property="og:type" content="website">
{{#if site.url}}<meta property="og:url" content="{{site.url}}{{page.url}}">{{/if}}
<meta property="og:image" content="{{uiRootPath}}/img/Redis_Logo_Red_RGB.svg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{#if page.title}}{{{page.title}}}{{else}}{{site.title}}{{/if}}">
{{#if page.description}}<meta name="twitter:description" content="{{{page.description}}}">{{/if}}
<meta name="twitter:image" content="{{uiRootPath}}/img/Redis_Logo_Red_RGB.svg">

<!-- Mermaid diagram support -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.2.3/dist/mermaid.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    mermaid.initialize({
      startOnLoad: true,
      theme: 'neutral',
      flowchart: {
        useMaxWidth: true,
        htmlLabels: true,
        curve: 'linear',
      },
      securityLevel: 'loose'
    });
    
    // Initialize all mermaid diagrams
    setTimeout(function() {
      mermaid.init(undefined, '.mermaid');
    }, 500);
  });
</script>

<!-- Theme toggle support -->
<script src="{{uiRootPath}}/js/theme-toggle.js"></script>
